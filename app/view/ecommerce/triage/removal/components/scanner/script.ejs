<script>
  console.log(Html5QrcodeScanner);

  function onScanSuccess(decodedText, decodedResult) {
    // Handle on success condition with the decoded text or result.

    try {
      let jsonCode = JSON.parse(decodedText);
      jsonCode.id && saleDetail(JSON.parse(decodedText).id);
      !jsonCode.id && saleDetail(JSON.parse(decodedText));
    } catch (err) {
      saleDetail(decodedText);
    }

    html5QrcodeScanner.clear();
  };

  function onScanError(errorMessage) {
    // handle on error condition, with error message
  };

  var html5QrcodeScanner = new Html5QrcodeScanner(
    "reader", { fps: 10, qrbox: 250 });
  html5QrcodeScanner.render(onScanSuccess, onScanError);
</script>