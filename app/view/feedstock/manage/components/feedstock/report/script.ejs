<script>
  async function feedstockReport(feedstock_id) {
    let feedstock = await API.response(Feedstock.findById, feedstock_id);
    if (!feedstock) { return false; }

    let feedstocks = await API.response(Feedstock.report, feedstock_id);
    if (!feedstocks) { return false; }

    lib.display("feedstock-filter-box", "none");
    lib.display("feedstock-report-box", "");

    let report_box = document.getElementById("feedstock-report-box");
    report_box.innerHTML = "";

    let div_header = lib.element.create("div", { class: "box b1 container margin-top-5" });
    div_header.appendChild(lib.element.info("b6 bold", "Id", feedstock.id));
    div_header.appendChild(lib.element.info("b2 bold", "Nome da MatÃ©ria-Prima", feedstock.name));
    div_header.appendChild(lib.element.info("b3 bold", "Cor", feedstock.color_name));

    report_box.appendChild(div_header);
    feedstocks.forEach(f => {
      let feedstock_div = lib.element.create("div", { class: "box b1 container box-hover padding-5 margin-top-5 border" });
      feedstock_div.appendChild(lib.element.create("div", { class: "mobile-box em08 b2-3 bold center" }, f.brand));
      feedstock_div.appendChild(lib.element.create("div", { class: "mobile-box b3 lucida-grande bold" }, `$${f.price}`));
      report_box.appendChild(feedstock_div);
    });
  };
</script>